# AI Text Refinement Configuration
refinement_steps:
  grammar_check:
    name: "Grammar and Spelling Check"
    description: "Fix grammatical errors, spelling mistakes, and punctuation"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required for grammar). Return only the final text—no explanations, markdown, or lists.
      Task (Grammar Check): micro-edits only. Fix grammar, spelling, and punctuation. No stylistic or tone changes. Preserve every line as-is in order and count.
    temperature: 0.1
    max_tokens: 2000
    enabled: true
    
  clarity_enhancement:
    name: "Clarity Enhancement"
    description: "Improve text clarity and readability"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required for clarity). Return only the final text—no explanations, markdown, or lists.
      Task (Clarity Enhancement): micro-to-mid edits for flow and readability. Remove redundancy and awkward phrasing. Improve cadence for spoken delivery. Do not change tone. Preserve every line as-is in order and count.
    temperature: 0.3
    max_tokens: 2000
    enabled: true
    
  professional_tone:
    name: "Professional Tone Adjustment"
    description: "Adjust tone to be more professional and presentation-appropriate"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required for tone). Return only the final text—no explanations, markdown, or lists.
      Task (Professional Tone): lexical tone adjustment only. Make wording professional, confident, and presenter-like. Do not alter structure beyond word/phrase choices. No stylistic overhaul. Preserve every line as-is in order and count.
    temperature: 0.2
    max_tokens: 2000
    enabled: true
    
  conciseness:
    name: "Conciseness Optimization"
    description: "Make text more concise for presentation slides"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required to stay grammatical). Return only the final text—no explanations, markdown, or lists.
      Task (Conciseness): compress wording while keeping meaning. Do not change tone. Do not alter structure beyond shortening phrases within each line. Preserve every line as-is in order and count.
    temperature: 0.2
    max_tokens: 1500
    enabled: true

  callout_integration:
    name: "Callout Integration"
    description: "Blend visual callouts into narration naturally"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required for grammar). Return only the final text—no explanations, markdown, or lists.
      Task (Callout Integration): weave the provided visual cue into the narration wherever it fits naturally. Do not label it as a cue. Keep the presenter tone and avoid front-loading; integrate it smoothly into the existing lines.
    temperature: 0.2
    max_tokens: 1200
    enabled: true
    
  audience_adaptation:
    name: "Audience-Specific Adaptation"
    description: "Adapt language and complexity for target audience"
    system_prompt: |
      Follow all constraints: keep the exact line order and count (no reordering, merging, splitting, or removals). Do not add content or ideas. Maintain meaning and natural spoken style; no bullets or new formatting. Optimize for smooth, clear narration; avoid tongue-twisters; keep sentences manageable while staying on the same lines. Rephrase only within each line; do not combine concepts across lines. Outputs must be deterministic and non-creative, with standardized phrasing. Keep length per line close to the original (≤120% unless required for comprehension). Return only the final text—no explanations, markdown, or lists.
      Task (Audience Adaptation): adjust complexity and terminology for the specified audience. Do not change tone, pacing, or structure unless required for comprehension. Maintain the original level of abstraction—no deeper explanations unless present. Preserve every line as-is in order and count.
    temperature: 0.3
    max_tokens: 2000
    enabled: false  # Disabled by default, can be enabled based on user preference
    audience_levels:
      - "executive"
      - "technical"
      - "general"
      - "academic"

# Default refinement pipeline
default_pipeline:
  - "grammar_check"
  - "clarity_enhancement"
  - "professional_tone"
  - "conciseness"

# Custom pipelines for different content types
content_type_pipelines:
  title:
    - "grammar_check"
    - "conciseness"
    - "professional_tone"
    
  bullet_points:
    - "grammar_check"
    - "conciseness"
    
  body_text:
    - "grammar_check"
    - "clarity_enhancement"
    - "professional_tone"
    
  conclusion:
    - "grammar_check"
    - "clarity_enhancement"
    - "professional_tone"

# AI Model Configuration
ai_models:
  primary:
    provider: "azure_openai"
    model: "gpt-4o-mini"
    api_version: "2024-07-18"

  fallback:
    provider: "azure_openai"
    model: "gpt-4o-mini"
    api_version: "2024-07-18"

# Quality thresholds
quality_metrics:
  min_improvement_score: 0.1  # Minimum improvement to suggest changes
  max_length_increase: 1.2    # Maximum 20% length increase
  min_readability_score: 60   # Flesch Reading Ease score
