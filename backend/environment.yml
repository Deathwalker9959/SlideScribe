name: slidescribe
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  # Core Python (matching Dockerfile)
  - python=3.11
  - pip

  # PyTorch with CUDA 12.1 support (matching Dockerfile)
  - pytorch=2.5.1
  - torchaudio=2.5.1
  - pytorch-cuda=12.1

  # Core dependencies from conda-forge
  - numpy>=1.24.0,<1.26.0
  - fastapi>=0.104.0
  - uvicorn
  - pyyaml>=6.0.1
  - pydantic>=2.5.0
  - aiohttp>=3.9.0
  - pytest>=7.4.3
  - pytest-asyncio>=0.21.1
  - python-multipart>=0.0.6
  - python-dotenv>=1.0.0
  - redis-py>=5.0.0
  - psycopg2
  - sqlalchemy>=2.0.23
  - alembic>=1.13.0

  # Development tools
  - ruff>=0.1.7
  - mypy>=1.7.1

  # Audio processing
  - librosa=0.11.0

  # Additional dependencies via pip
  - pip:
      # Audio processing
      - soundfile>=0.12.1

      # Chatterbox TTS dependencies
      - transformers==4.46.3
      - diffusers==0.29.0
      - resemble-perth==1.0.1
      - conformer==0.3.2
      - safetensors==0.5.3
      - pykakasi==2.3.0
      - s3tokenizer==0.2.0
      # - russian-text-stresser @ git+https://github.com/Vuizur/add-stress-to-epub
      - gradio==5.44.1
      # Install chatterbox-tts manually after environment creation (see post_install.sh)
      # - chatterbox-tts==0.1.4

      # FastAPI and web framework
      - python-multipart>=0.0.6

      # Auth and security
      - python-jose[cryptography]>=3.3.0
      - passlib[bcrypt]>=1.7.4

      # Additional utilities
      - openai>=1.3.0
